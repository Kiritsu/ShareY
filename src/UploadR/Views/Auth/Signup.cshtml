@{
    ViewData["Title"] = "Create a new account.";

    var token = ViewData["Token"] as string;
    var error = ViewData["RegisterError"] as string;
    var routeEnabled = ViewData["RouteEnabled"] as bool?;
}

@{
    if (User.Identity.IsAuthenticated)
    {
        <p class="alert alert-warning">You are already logged in as '@User.Identity.Name'</p>
    }
    else if (!string.IsNullOrWhiteSpace(token))
    {
        <p class="alert alert-info">Welcome and thank you for using upload-r! Your unique token is @token. You must <span class="alert-danger">NOT</span> share it.</p>
    }
    else if (routeEnabled.HasValue && routeEnabled.Value)
    {
        if (!string.IsNullOrWhiteSpace(error))
        {
            <p class="alert alert-danger">@error</p>
        }

        <form method="post">
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="text" class="form-control" name="email" id="email">
            </div>

            <button type="submit" class="btn btn-light">Create account</button>
        </form>
    }
    else
    {
        <p class="alert alert-warning">Account creation is currently disabled.</p>
    }
}